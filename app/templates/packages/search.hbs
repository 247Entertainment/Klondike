<div>
  {{drop-down selectedValue=originFilter content=originFilters}}
  {{drop-down selectedValue=sortBy content=sortByColumns}}
  {{drop-down selectedValue=includePrerelease content=versionFilters}}
  {{drop-down selectedValue=latestOnly content=latestOnlyFilters}}

  {{#link-to 'packages.advanced-search'}}advanced search{{/link-to}}
</div>

<h1>
    {{#if query}}
        Search results for "{{query}}"
    {{else}}
        List of All Packages
    {{/if}}
</h1>

{{#if total}}
    Showing {{first}} to {{last}} of {{total}}.

    {{#if hasPrevious}}
        <a href="#" {{action "previousPage"}} rel="nofollow">Previous Page</a>
    {{/if}}
    {{#if hasNext}}
        <a href="#" {{action "nextPage"}}>Next Page</a>
    {{/if}}

    <ol start={{first}}>
        {{#each model.hits as |hit|}}
        <li>
            <div>
                {{package-icon url=hit.iconUrl}}
                {{#link-to 'packages.view' hit}}
                  {{#if hit.title}}
                      {{hit.title}}
                  {{else}}
                      {{hit.id}}
                  {{/if}}
                  {{hit.version}}
                {{/link-to}}
            </div>
            {{search-link-list header='Authors' items=hit.authors}}
            <div>
                {{hit.description}}
            </div>
            {{search-link-list header='Tags' items=hit.tags}}
            <div>
              Downloads:
              {{#if hit.downloadCount}}
                {{hit.downloadCount}}
                {{#unless controller.latestOnly}}
                  total,
                  {{hit.versionDownloadCount}} of this version
                {{/unless}}
              {{else}}
                0
              {{/if}}
            </div>
        </li>
        {{/each}}
    </ol>

    {{#if hasPrevious}}
        <a href="#" {{action "previousPage"}} rel="nofollow">Previous Page</a>
    {{/if}}
    {{#if hasNext}}
        <a href="#" {{action "nextPage"}} rel="nofollow">Next Page</a>
    {{/if}}
{{else}}
    No results :'(
{{/if}}
