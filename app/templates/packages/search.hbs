<div>
  {{drop-down selectedValue=originFilter content=originFilters}}
  {{drop-down selectedValue=sortBy content=sortByColumns}}
  {{drop-down selectedValue=includePrerelease content=versionFilters}}
  {{drop-down selectedValue=latestOnly content=latestOnlyFilters}}

  {{#link-to 'packages.advanced-search'}}advanced search{{/link-to}}
</div>

<h1>
    {{#if query}}
        Search results for "{{query}}"
    {{else}}
        List of All Packages
    {{/if}}
</h1>

{{#if total}}
  <div class="clearfix mb2">
    <a href="#" {{action "previousPage"}} rel="nofollow" {{bind-attr class=":left :btn :button-narrow :kl-button :blue hasPrevious::is-disabled"}}>
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
        <use xlink:href="#chevronLeft"></use>
      </svg>
      
      Previous Page
    </a>
    <a href="#" {{action "nextPage"}} {{bind-attr class=":right :btn :button-narrow :kl-button :blue hasNext::is-disabled"}}>
      Next Page

      <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
        <use xlink:href="#chevronRight"></use>
      </svg>
    </a>
    <span class="block center py1">Showing {{first}} to {{last}} of {{total}}</span>
  </div>

    <ol start={{first}}>
        {{#each model.hits as |hit|}}
        <li>
            <div>
                {{package-icon url=hit.iconUrl}}
                {{#link-to 'packages.view' hit}}
                  {{#if hit.title}}
                      {{hit.title}}
                  {{else}}
                      {{hit.id}}
                  {{/if}}
                  {{hit.version}}
                {{/link-to}}
            </div>
            {{search-link-list header='Authors' items=hit.authors}}
            <div>
                {{hit.description}}
            </div>
            {{search-link-list header='Tags' items=hit.tags}}
            <div>
              Downloads:
              {{#if hit.downloadCount}}
                {{hit.downloadCount}}
                {{#unless latestOnly}}
                  total,
                  {{hit.versionDownloadCount}} of this version
                {{/unless}}
              {{else}}
                0
              {{/if}}
            </div>
        </li>
        {{/each}}
    </ol>

  <div class="clearfix mt2">
    <a href="#" {{action "previousPage"}} rel="nofollow" {{bind-attr class=":left :btn :button-narrow :kl-button :blue hasPrevious::is-disabled"}}>
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
        <use xlink:href="#chevronLeft"></use>
      </svg>
      
      Previous Page
    </a>
    <a href="#" {{action "nextPage"}} {{bind-attr class=":right :btn :button-narrow :kl-button :blue hasNext::is-disabled"}}>
      Next Page

      <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
        <use xlink:href="#chevronRight"></use>
      </svg>
    </a>
  </div>
{{else}}
    No results :'(
{{/if}}
